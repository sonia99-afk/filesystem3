body{ margin:0; font-family:Consolas,"Courier New",monospace; background:#fff; color:#000; }
    .wrap{ padding:16px; max-width:980px; }
    .hint{ font-size:12px; margin-bottom:10px; margin-left: 28px;   align-items: center;}

    .hint button svg {
      width: 13px;
      height: 12px;
      fill: none;
      stroke: currentColor;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }


    

    :root{
      --text-indent:28px;
      --branch-len:16px;
      --trunk-shift:-3px;

      --trunk-company:0px;
      --trunk-project:10px;
      --trunk-dept:12px;
      --trunk-role:14px;
    }

    ul{
      list-style:none;
      margin:0;
      padding-left:var(--text-indent);
      position:relative;
    }

    ul[data-level="0"]{ --trunk-x: var(--trunk-company); }
    ul[data-level="1"]{ --trunk-x: var(--trunk-project); }
    ul[data-level="2"]{ --trunk-x: var(--trunk-dept); }
    ul[data-level="3"]{ --trunk-x: var(--trunk-role); }

    .trunk{
      position:absolute;
      left:calc(var(--trunk-x, 0px) + var(--trunk-shift));
      top:0;
      height:0;
      border-left:1px solid #000;
      pointer-events:none;
    }

    .plink{
      position:absolute;
      top:0;
      height:0;
      border-left:1px solid #000;
      pointer-events:none;
    }

    li{ margin:2px 0; position:relative; }

    li::before{
      content:"";
      position:absolute;
      top:calc(0.9em - 4px);
      left:calc(var(--trunk-x, 0px) + var(--trunk-shift) - var(--text-indent));
      width:var(--branch-len);
      border-top:1px solid #000;
    }

    li.root::before{ display:none; }

    .anchor{
      position:absolute;
      top:calc(0.9em - 4px);
      left:0;
      width:0;
      height:0;
      pointer-events:none;
    }

    .row{ cursor:pointer; display:inline-block; padding:1px 2px; user-select:none; white-space:nowrap; outline:none; }
    .row.sel{ background:#eaeaea; }

    .act{
      margin-left:8px;
      font-size:12px;
      visibility:hidden;
      display:inline-flex;
      gap:3px;
    }
    .row:hover .act{ visibility:visible; }

    .btn{
      cursor:pointer;
      color:#6b7280;
      padding:0;
      margin:0;
      display:inline-flex;
      align-items:center;
      line-height:1;
      user-select:none;
      gap:0;
    }
    .btn .br,
    .btn .mid{
      display:inline-block;
      padding:0;
      margin:0;
      line-height:1;
      flex:0 0 auto;
      min-width:0;
    }
    .btn .mid{
      width:auto !important;
      text-align:left;
    }
    .btn .mid{ display:inline-block; width:2ch; text-align:center; }
    .mut{ opacity:.55; }

    .edit{
      font:inherit;
      border:1px solid #000;
      padding:0 2px;
      margin:0;
      height:1.2em;
      line-height:1.2em;
      outline:none;
      background:#fff;
      color:#000;
    }
    
    .tg-export {
      margin-top: 10px;
      padding: 10px;
      background: #f5f5f5;
      border: 1px solid #ccc;
      white-space: pre;
      font-family: monospace;
    }

    #tgToggle {
      margin-left: 15px;
    }

    /* ---- layout: tree + right panel ---- */
.wrap{ max-width:none; }

.layout{
  display:flex;
  gap:16px;
  align-items:flex-start;
}

.main{
  flex:1 1 auto;
  min-width:0; /* чтобы дерево не ломало flex */
}

.sidebar{
  flex:0 0 500px;
  border:1px solid #000;
  padding:12px;
  background:#fff;
  max-height:calc(100vh - 32px);
  overflow:auto;
}

.panel-title{
  font-weight:700;
  margin-bottom:10px;
}

.hotkeys{
  width:100%;
  border-collapse:collapse;
  font-size:12px;
  margin-bottom: 10px;
}

.hotkeys th,
.hotkeys td{
  border:1px solid #000;
  padding:6px 8px;
  vertical-align:top;
}

.hotkeys th{
  background:#f3f3f3;
  text-align:left;
}

kbd{
  display:inline-block;
  padding:1px 6px;
  border:1px solid #000;
  border-bottom-width:2px;
  border-radius:4px;
  font-size:11px;
  line-height:1.4;
  background:#fff;
}

.panel-note{
  margin-top:10px;
  font-size:12px;
  opacity:.8;
}

/* ---- responsive ---- */
@media (max-width: 980px){
  .layout{ flex-direction:column; }
  .sidebar{ flex-basis:auto; width:auto; position:static; max-height:none; }
}


td.editing{
  background:#fff3cd;
  border:2px dashed #333;
}

td.conflict{
  border:2px solid #e53935 !important;
}

.tgbar {
  display: flex;
  align-items: center;
  gap: 10px; /* расстояние между кнопками */
}


td.ui-icon {
  text-align: center;
  vertical-align: middle;
}

td.ui-icon .icon {
  width: 18px;
  height: 18px;
  stroke: currentColor;
  stroke-width: 2;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.85;
}

td.ui-icon .icon {
  padding: 4px;
  border: 1px solid #bbb;
  border-radius: 3px;
}